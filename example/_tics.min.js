var _tics=function(){"use strict";var provider=null;var helper=null;var trackPage=function(){provider.trackPage()};var trackEvents=function(){var fields=helper.get("input, select, textarea");var links=helper.get("a");var buttons=helper.get("button");helper.addListeners(fields,"change",function(e){provider.track(this,helper.ev(e))});helper.addListeners(links,"click",function(e){provider.track(this,helper.ev(e))});helper.addListeners(buttons,"click",function(e){provider.track(this,helper.ev(e))})};var initialize=function(analyticsProvider){provider=analyticsProvider;helper=_tics.helper};return{init:initialize,page:trackPage,events:trackEvents}}();var _tics=_tics||{};_tics.helper=function(){"use strict";var getBy=function(selector){return window.document.querySelectorAll(selector)};var getEvent=function(e){if(!e){return window.event}return e};var addListenerFor=function(el,eventName,handler){var elmType=el.getAttribute("type");if(elmType&&elmType==="hidden"){return}if(el.addEventListener){el.addEventListener(eventName,handler)}else{el.attachEvent("on"+eventName,function(){handler.call(el)})}};var addListenersFor=function(elements,eventName,handler){var i;if(!elements){return}for(i=0;i<elements.length;i+=1){addListenerFor(elements[i],eventName,handler)}};var hasAttribute=function(elm,attrName){if(elm.nodeType!==1){return false}var node=elm.getAttributeNode(attrName);return node&&node.name===attrName};var getClosestElement=function(elm,attributeName){var closest=null;var parent=elm;while(parent!==window.document){if(hasAttribute(parent,attributeName)){closest=parent;break}parent=parent.parentNode}return closest};var startsWith=function(str,suffix){return str.indexOf(suffix)===0};var endsWith=function(str,suffix){return str.lastIndexOf(suffix)===str.length-suffix.length};var getValue=function(elm){if(elm.getAttribute("name")){return elm.getAttribute("name")}if(elm.getAttribute("id")){return elm.getAttribute("id")}if(elm.getAttribute("href")){return elm.getAttribute("href")}return""};var getUrl=function(){return window.location.href};var appendTo=function(url,val){var suffix="/";if(endsWith(url,suffix)||startsWith(val,suffix)){suffix=""}return url+suffix+val};var createUrl=function(elm){var url=getUrl();var val=getValue(elm);return appendTo(url,val)};return{get:getBy,ev:getEvent,addListeners:addListenersFor,getClosest:getClosestElement,createUrlBy:createUrl,appendToUrl:appendTo,getValueFrom:getValue}}();var _tics=_tics||{};_tics.gaProvider=function(){"use strict";var ga=null;var helper=null;var functions=null;var account=null;var domain=null;var runCustomFunction=function(elm){var funcName=elm.getAttribute("data-val-analyze-custom");var func;if(!funcName){return null}func=functions.get(funcName);if(typeof func!=="function"){return null}return func.apply(null,[elm,ga])};var sendTrackingFor=function(elm,ev){var url=helper.createUrlBy(elm);var category=elm.tagName;var action=ev.type;var label=helper.getValueFrom(elm);var result=runCustomFunction(elm);if(result){if(result.isProvisioned){return}url=helper.appendToUrl(url,result.data)}ga("send","pageview",url);ga("send","event",category,action,label)};var setDefaults=function(){ga("create",account,domain);ga("send","pageview")};var initialize=function(gaAccount){ga=window.ga;helper=_tics.helper;functions=_tics.functions;account=gaAccount.account;domain=gaAccount.domain;if(!account||!domain){return}};return{init:initialize,trackPage:setDefaults,track:sendTrackingFor}}();var _tics=_tics||{};_tics.functions=function(){"use strict";var helper=_tics.helper;var isJson=function(obj){if(!obj){return false}return obj.hasOwnProperty("data")&&obj.hasOwnProperty("isProvisioned")};var asJson=function(val,provisioned){return{data:val,isProvisioned:provisioned}};var funcs={getValue:function(elm){return asJson(elm.value,false)},getItemInSection:function(elm){var elementIndex=-1;var section=helper.getClosest(elm,"data-section");var currentItem=helper.getClosest(elm,"data-item");var items=section.querySelectorAll("[data-item]");var i;for(i=0;i<items.length;i+=1){if(items[i]===currentItem){elementIndex=i;break}}var item=section.getAttribute("data-section")+"/"+(elementIndex+1);return asJson(item,false)},getRelativeChange:function(elm){var message="same";var dataVal=elm.getAttribute("data-val-original-value");var originalValue=parseInt(dataVal,10);var newValue=parseInt(elm.value,10);if(window.isNaN(originalValue)||window.isNaN(newValue)){message="undefined"}else{if(newValue>originalValue){message="higher"}else if(newValue<originalValue){message="lower"}}return asJson(message,false)}};var getFunction=function(funcName){var func=funcs[funcName];if(typeof func!=="function"){return null}return func};var addFunction=function(funcName,func,handlesProvisioning){funcs[funcName]=function(elm,ga){var result=func(elm,ga);if(isJson(result)){return result}return asJson(result,handlesProvisioning)}};return{get:getFunction,add:addFunction}}();